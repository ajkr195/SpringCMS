<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{layouts/layout_userprofileslist}">
<head>
<title>Springboot Rocks</title>
</head>

<body class="d-flex flex-column h-100">
	<div layout:fragment="content">


		<nav
			class="navbar navbar-expand py-0 navbar-dark bg-dark navbar-custom">
			<div class="container-fluid">
				<div class="col-md-6 float-start">
					<h4 class="m-0 text-danger">All Profiles</h4>
				</div>
				<div class="col-md-6 align-middle mt-3">
					<ol class="breadcrumb float-end">
						<li class="breadcrumb-item text-danger"><a href="/"
							th:href="@{/}"> Home</a></li>
						<li class="breadcrumb-item active">All Profiles</li>
					</ol>
				</div>
			</div>
		</nav>


		<div class="row">
			<div class="col-12 col-md-12 col-lg-12">
				<div class="card themed-card">
					<div class="card-header card-header-nobg">
						<div class="d-flex align-items-center justify-content-between">
							<h3 class="float-start">All Profiles</h3>

							<div class="col-sm-1" th:if="${appUserProfiles.totalPages != 0}">
								<select class="form-select form-select-sm pagination"
									id="pageSizeSelect">
									<option selected disabled value="itemsperpage">Size</option>
									<option th:each="pageSize : ${pageSizes}"
										th:value="${pageSize}" th:text="${pageSize}"
										th:selected="${pageSize} == ${selectedPageSize}"></option>
								</select>
							</div>


						</div>

					</div>
					<div class="card-content">

						<div th:if="${appUserProfiles.totalPages != 0}">
							<div class="table-responsive">
								<table id="dataTable" class="table table-sm">
									<thead class="thead-inverse">
										<tr>
											<th>ID</th>
											<th>NickName</th>
											<th>Designation</th>
											<th>Location</th>
											<th>Picture</th>
											<th>Actions</th>
										</tr>
									</thead>
									<tr th:each="profile : ${appUserProfiles}" data-aos="flip-down">
										<td th:text="${profile.id}"></td>
										<td th:text="${profile.nickname}"></td>
										<td th:text="${profile.designation}"></td>
										<td th:text="${profile.location}"></td>

										<td>
											<div th:if="${profile.profilepic == null}">
												<i class="far fa-user fa-2x"></i> <a href="#"
													th:href="@{'/appUserProfile/' + ${profile.id} + '/image'}"
													role="button">Upload</a>
											</div>
											<div th:if="${profile.profilepic != null}">
												<img class="img-profile rounded-circle"
													th:src="@{'/appUserProfile/' + ${profile.id} + '/appUserProfileimage'}"
													width="40" height="40" /> 
											</div>
											
<!-- 											<div th:if="${profile.profilepic != null}"> -->
<!-- 												<img class="img-profile rounded-circle" -->
<!-- 													th:src="@{'/appUserProfile/' + ${profile.id} + '/appUserProfileimage'}" -->
<!-- 													width="40" height="40" /> <a href="#" -->
<!-- 													th:href="@{'/appUserProfile/' + ${profile.id} + '/image'}" -->
<!-- 													role="button" data-bs-toggle="modal" -->
<!-- 													data-bs-target="#profilePicModal">Change</a> -->
<!-- 											</div> -->


<!-- 											<div class="modal fade" id="profilePicModal" tabindex="-1" -->
<!-- 												aria-labelledby="profilePicModalLabel" aria-hidden="true"> -->
<!-- 												<div class="modal-dialog modal-dialog-centered"> -->
<!-- 													<div class="modal-content"> -->
<!-- 														<div class="modal-header modal-header-danger"> -->
<!-- 															<h5 class="modal-title" id="exampleModalLabel">Update -->
<!-- 																Profile Picture</h5> -->
<!-- 															<button type="button" class="btn-close close" -->
<!-- 																data-bs-dismiss="modal" aria-label="Close"></button> -->
<!-- 														</div> -->
<!-- 														<form action="/appUserProfile/${currentUserId}/image" ) -->
<!-- 															method="post" enctype="multipart/form-data" -->
<!-- 															th:action="@{'/appUserProfile/' + ${profile.id} + '/image'}"> -->
<!-- 															<div class="modal-body"> -->

<!-- 																<label class="control-label">Select Picture</label> <input -->
<!-- 																	id="userPicturefile" name="userPicturefile" type="file" -->
<!-- 																	class="file"> <br /> <br /> -->

<!-- 															</div> -->
<!-- 															<div class="modal-footer"> -->
<!-- 																<button type="button" class="btn btn-sm btn-secondary" -->
<!-- 																	data-bs-dismiss="modal">Close</button> -->
<!-- 																<button type="submit" class="btn btn-sm btn-danger">Update -->
<!-- 																	Picture</button> -->
<!-- 															</div> -->
<!-- 														</form> -->
<!-- 													</div> -->
<!-- 												</div> -->
<!-- 											</div> -->




										</td>
										<td><a class="btn btn-sm btn-danger"
													th:href="@{/deleteUserProfile/{id}(id=${profile.id})}"><i
													class="fas fa-times-circle"></i> </a></td>
									</tr>
								</table>
							</div>

							<div class="row col-md-12">
								<div class="col-md-6 mt-2 float-start">
									<span class="badge btn-danger"> Total Records:</span> <span
										class="badge btn-primary" th:text="${totalappUserProfiles}">
									</span>
								</div>
								<div class="col-md-6 float-end">
									<div th:if="${appUserProfiles.totalPages != 0}"
										class="pagination-container float-end">
										<ul class="pagination">
											<li th:class="${appUserProfiles.number == 0} ? disabled"><a
												class="btn btn-sm btn-info mx-2"
												th:href="@{/userProfilesList/(pageSize=${selectedPageSize}, page=1)}"><i
													class="fas fa-chevron-left"></i><i
													class="fas fa-chevron-left"></i></a></li>
											<li th:class="${appUserProfiles.number == 0} ? disabled"><a
												class="btn btn-sm btn-info mx-2"
												th:href="@{/userProfilesList/(pageSize=${selectedPageSize}, page=${appUserProfiles.number})}"><i
													class="fas fa-arrow-left"></i></a></li>
											<li
												th:class="${appUserProfiles.number == (page - 1)} ? 'active pointer-disabled'"
												th:each="page : ${#numbers.sequence(pager.startPage, pager.endPage)}">
												<a class="btn btn-sm btn-info mx-2"
												th:href="@{/userProfilesList/(pageSize=${selectedPageSize}, page=${page})}"
												th:text="${page}"></a>
											</li>
											<li
												th:class="${appUserProfiles.number + 1 == appUserProfiles.totalPages} ? disabled">
												<a class="btn btn-sm btn-info mx-2"
												th:href="@{/userProfilesList/(pageSize=${selectedPageSize}, page=${appUserProfiles.number + 2})}"><i
													class="fas fa-arrow-right"></i></a>
											</li>
											<li
												th:class="${appUserProfiles.number + 1 == appUserProfiles.totalPages} ? disabled">
												<a class="btn btn-sm btn-info mx-2"
												th:href="@{/userProfilesList/(pageSize=${selectedPageSize}, page=${appUserProfiles.totalPages})}"><i
													class="fas fa-chevron-right"></i><i
													class="fas fa-chevron-right"></i></a>
											</li>
										</ul>
									</div>
								</div>
							</div>

						</div>

						<div
							class="m-0 d-flex flex-row justify-content-center align-items-center mt-2 mb-2">
							<div th:if="${appUserProfiles.totalPages == 0}">
								<p class="font-weight-bold text-info" data-aos="flip-up">No
									profiles available.</p>
							</div>
						</div>

					</div>
				</div>
			</div>
		</div>



	</div>
</body>
</html>